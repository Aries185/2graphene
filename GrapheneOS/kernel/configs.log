commit 85a4fec3a810e3aadad1b5bd77debe3701eceda4 (HEAD, tag: RQ3A.210705.001.2021.07.07.19, tag: RQ3A.210605.005.2021.06.08.06, tag: RQ2A.210505.002.2021.05.04.01, tag: RQ2A.210405.005.2021.04.05.20, tag: RQ2A.210305.006.2021.03.02.10, m/master)
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Thu 2019-04-18 00:05:55-0400

    stop requiring CONFIG_MODULES and BPF_JIT
    
    CONFIG_STRICT_MODULE_RWX depends on CONFIG_MODULES so it can't be
    required unconditionally either. It isn't relevant when dynamic kernel
    modules aren't enabled.
---
 o-mr1/android-3.18/android-base.config      | 3 ---
 o-mr1/android-4.4/android-base.config       | 3 ---
 o-mr1/android-4.9/android-base.config       | 3 ---
 o/android-3.18/android-base.config          | 3 ---
 o/android-4.4/android-base.config           | 3 ---
 o/android-4.9/android-base.config           | 3 ---
 p/android-4.14/android-base.config          | 3 ---
 p/android-4.4/android-base.config           | 3 ---
 p/android-4.9/android-base.config           | 3 ---
 q/android-4.14/android-base.config          | 4 ----
 q/android-4.19/android-base.config          | 4 ----
 q/android-4.9/android-base.config           | 3 ---
 r/android-4.14/android-base-conditional.xml | 8 --------
 r/android-4.14/android-base.config          | 5 -----
 r/android-4.19/android-base-conditional.xml | 8 --------
 r/android-4.19/android-base.config          | 5 -----
 r/android-5.4/android-base-conditional.xml  | 8 --------
 r/android-5.4/android-base.config           | 5 -----
 18 files changed, 77 deletions(-)

diff --git a/o-mr1/android-3.18/android-base.config b/o-mr1/android-3.18/android-base.config
index 7eb1e7109510f2310f775a8f94d83d8b28505056..e9e3645c73836f22a568d908ef520d8665867f7c 100644
--- a/o-mr1/android-3.18/android-base.config
+++ b/o-mr1/android-3.18/android-base.config
@@ -54,23 +54,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/o-mr1/android-4.4/android-base.config b/o-mr1/android-4.4/android-base.config
index f987f24dd72aebd0a2fe42943f51b3984b18a2b1..5ab76df172b67a1637439687c7820aad72a21360 100644
--- a/o-mr1/android-4.4/android-base.config
+++ b/o-mr1/android-4.4/android-base.config
@@ -54,23 +54,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/o-mr1/android-4.9/android-base.config b/o-mr1/android-4.9/android-base.config
index 88fd01d136bb94c842089cdf23e923dbe5959f81..532da6adbbbc82e16bce76cc4f3b7465f94b0653 100644
--- a/o-mr1/android-4.9/android-base.config
+++ b/o-mr1/android-4.9/android-base.config
@@ -55,23 +55,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/o/android-3.18/android-base.config b/o/android-3.18/android-base.config
index 417e2622e9726fa5f0f24d3ceb862b9bb91d4cf6..de109a59a4f6b673516be4cfa6e1875d15b558fb 100644
--- a/o/android-3.18/android-base.config
+++ b/o/android-3.18/android-base.config
@@ -52,23 +52,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/o/android-4.4/android-base.config b/o/android-4.4/android-base.config
index c86c5f046e2d19237e4c79dc445fca554574f4bf..4381a431a89d3ee5cbe61985a3b18b5624708912 100644
--- a/o/android-4.4/android-base.config
+++ b/o/android-4.4/android-base.config
@@ -52,23 +52,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/o/android-4.9/android-base.config b/o/android-4.9/android-base.config
index e21db06ebaf4aa54ceafc4102bffd82ce08134c9..128e66ee65c2691ccb9c56f5587a8923ecbaf8ab 100644
--- a/o/android-4.9/android-base.config
+++ b/o/android-4.9/android-base.config
@@ -52,23 +52,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_AH=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/p/android-4.14/android-base.config b/p/android-4.14/android-base.config
index 47a67b87e0b1e2ca24226b813444ee461064379c..549a655333593ced252b66012781866ffbcec186 100644
--- a/p/android-4.14/android-base.config
+++ b/p/android-4.14/android-base.config
@@ -76,23 +76,20 @@ CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MEMCG=y
 CONFIG_MEMCG_SWAP=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
diff --git a/p/android-4.4/android-base.config b/p/android-4.4/android-base.config
index 9db3248672a19a74698cdf38d5fcaad37704ca5c..b4db5e5e89c0ffcb27d07a569f7dcfb83fbd0438 100644
--- a/p/android-4.4/android-base.config
+++ b/p/android-4.4/android-base.config
@@ -73,23 +73,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/p/android-4.9/android-base.config b/p/android-4.9/android-base.config
index 4430285f86c9c5edfaf7190f51b31dc00dd7c911..7ea05634f35170cd2b04bdbd7f02fbffb93d56f0 100644
--- a/p/android-4.9/android-base.config
+++ b/p/android-4.9/android-base.config
@@ -74,23 +74,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
diff --git a/q/android-4.14/android-base.config b/q/android-4.14/android-base.config
index cf9b7d5d457a8287db9ed77e32e9c598bf81c71b..bdd4c00ded2efee898d919f109237edd91e6f260 100644
--- a/q/android-4.14/android-base.config
+++ b/q/android-4.14/android-base.config
@@ -89,23 +89,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
@@ -192,21 +189,20 @@ CONFIG_SECCOMP_FILTER=y
 CONFIG_SECURITY=y
 CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STAGING=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UID_SYS_STATS=y
diff --git a/q/android-4.19/android-base.config b/q/android-4.19/android-base.config
index 2f987a9d07db42d855722ad74bb2a9a0052f6438..e658e66691bb79916b62ac9b51158c07109fc0c3 100644
--- a/q/android-4.19/android-base.config
+++ b/q/android-4.19/android-base.config
@@ -86,23 +86,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
@@ -189,21 +186,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UID_SYS_STATS=y
diff --git a/q/android-4.9/android-base.config b/q/android-4.9/android-base.config
index 795cde56ef3321c339b1357a317a63ba5a0f1bdb..013036a920352eeee0b1e019fd7de8d523f5f87b 100644
--- a/q/android-4.9/android-base.config
+++ b/q/android-4.9/android-base.config
@@ -92,23 +92,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
diff --git a/r/android-4.14/android-base-conditional.xml b/r/android-4.14/android-base-conditional.xml
index b38fde886356ac0b296e4480c2918fb2dac814b8..14b9baf533c6e185de28756a6889fec660fd45d8 100644
--- a/r/android-4.14/android-base-conditional.xml
+++ b/r/android-4.14/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-4.14/android-base.config b/r/android-4.14/android-base.config
index 542251be2d440b70ba658dd4d994f694ef00ae43..efc98d2c6c0c46fb4c17eb91c5f308c15850da7d 100644
--- a/r/android-4.14/android-base.config
+++ b/r/android-4.14/android-base.config
@@ -18,21 +18,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CC_STACKPROTECTOR_STRONG=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
@@ -108,23 +107,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -215,21 +211,20 @@ CONFIG_SECCOMP_FILTER=y
 CONFIG_SECURITY=y
 CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y
diff --git a/r/android-4.19/android-base-conditional.xml b/r/android-4.19/android-base-conditional.xml
index 5d5a4770777faa4fe777cf5dc1211fa4ed17975f..dc1f7bd19737c09ccf2a9451ab1f1bea342f7bee 100644
--- a/r/android-4.19/android-base-conditional.xml
+++ b/r/android-4.19/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-4.19/android-base.config b/r/android-4.19/android-base.config
index f942b8e12e36a16381306b0ba5a70fb299ca6627..8c62422d0e33d90b934eb15d7fdda6eba1e2d632 100644
--- a/r/android-4.19/android-base.config
+++ b/r/android-4.19/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_ECB=y
@@ -109,23 +108,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -216,21 +212,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y
diff --git a/r/android-5.4/android-base-conditional.xml b/r/android-5.4/android-base-conditional.xml
index a5e187fc23d493e47dc8e57538d0b7e617f8c956..6a5a53ad1642490f59c4602d77fda72bd0b6c21b 100644
--- a/r/android-5.4/android-base-conditional.xml
+++ b/r/android-5.4/android-base-conditional.xml
@@ -60,24 +60,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -86,24 +82,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-5.4/android-base.config b/r/android-5.4/android-base.config
index 08cfbb9693afefe8582b7e29fd9f8501e23ff3cc..3b3726eb8fe4051303c5afd37e9df2761cf34a9f 100644
--- a/r/android-5.4/android-base.config
+++ b/r/android-5.4/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CFI_CLANG=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
@@ -107,23 +106,20 @@ CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_LTO_CLANG=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -215,21 +211,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y

commit 2939f6bc2643912e428b1d418ca9d6fbcf008dd9 (HEAD, tag: SP1A.211105.002.2021110617, m/master, grapheneos/12)
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Thu 2019-04-18 00:05:55-0400

    stop requiring CONFIG_MODULES and BPF_JIT
    
    CONFIG_STRICT_MODULE_RWX depends on CONFIG_MODULES so it can't be
    required unconditionally either. It isn't relevant when dynamic kernel
    modules aren't enabled.
    
    Signed-off-by: anupritaisno1 <www.anuprita804@gmail.com>
    Change-Id: Ib63a93aca72fcfca6b1499d186a6243d849ab990
---
 android-4.19/android-base-conditional.xml   | 8 --------
 android-4.19/android-base.config            | 5 -----
 android-5.10/android-base-conditional.xml   | 8 --------
 android-5.10/android-base.config            | 5 -----
 android-5.4/android-base-conditional.xml    | 8 --------
 android-5.4/android-base.config             | 5 -----
 p/android-4.14/android-base.config          | 3 ---
 p/android-4.4/android-base.config           | 3 ---
 p/android-4.9/android-base.config           | 3 ---
 q/android-4.14/android-base.config          | 4 ----
 q/android-4.19/android-base.config          | 4 ----
 q/android-4.9/android-base.config           | 3 ---
 r/android-4.14/android-base-conditional.xml | 8 --------
 r/android-4.14/android-base.config          | 5 -----
 r/android-4.19/android-base-conditional.xml | 8 --------
 r/android-4.19/android-base.config          | 5 -----
 r/android-5.4/android-base-conditional.xml  | 8 --------
 r/android-5.4/android-base.config           | 5 -----
 s/android-4.19/android-base-conditional.xml | 8 --------
 s/android-4.19/android-base.config          | 5 -----
 s/android-5.10/android-base-conditional.xml | 8 --------
 s/android-5.10/android-base.config          | 5 -----
 s/android-5.4/android-base-conditional.xml  | 8 --------
 s/android-5.4/android-base.config           | 5 -----
 24 files changed, 137 deletions(-)

diff --git a/android-4.19/android-base-conditional.xml b/android-4.19/android-base-conditional.xml
index 02c3b2def435a3ea3a10dfb03ed74565ae5c94ae..225c63f6aa1024d24d871ee8f69cec3f42808f16 100644
--- a/android-4.19/android-base-conditional.xml
+++ b/android-4.19/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/android-4.19/android-base.config b/android-4.19/android-base.config
index 71dd4291188f333892e056697cb555586752dd2d..3573b94d75a49ab23fb505febc14618885e99e8a 100644
--- a/android-4.19/android-base.config
+++ b/android-4.19/android-base.config
@@ -21,21 +21,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -114,23 +113,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -221,21 +217,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y
diff --git a/android-5.10/android-base-conditional.xml b/android-5.10/android-base-conditional.xml
index 04ac88d71429503be2ed34e18929b56ee368c5c1..0bb5383d488734d227093ec53bb15ce21c6c499b 100644
--- a/android-5.10/android-base-conditional.xml
+++ b/android-5.10/android-base-conditional.xml
@@ -64,24 +64,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PMD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PUD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_KFENCE</key>
@@ -136,24 +132,20 @@
 	<conditions>
 		<config>
 			<key>CONFIG_X86_64</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
 	<!--<config>
 		<key>CONFIG_CFI_CLANG</key>
 		<value type="bool">y</value>
 	</config>-->
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/android-5.10/android-base.config b/android-5.10/android-base.config
index 495825cbc36c9a6f391ff4ad12e28e344134b91d..95b4f5b56b2b45a2bf696ec500bb8b1d60011452 100644
--- a/android-5.10/android-base.config
+++ b/android-5.10/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -112,23 +111,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -220,21 +216,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y
diff --git a/android-5.4/android-base-conditional.xml b/android-5.4/android-base-conditional.xml
index 4cff64cb410a3a434476cd21037807105642015b..7716ddf66d215d2d3bb8d3a74f9f4ff45c5edc6e 100644
--- a/android-5.4/android-base-conditional.xml
+++ b/android-5.4/android-base-conditional.xml
@@ -64,24 +64,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PMD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PUD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_USERFAULTFD</key>
@@ -128,24 +124,20 @@
 	<conditions>
 		<config>
 			<key>CONFIG_X86_64</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
 	<config>
 		<key>CONFIG_CFI_CLANG</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/android-5.4/android-base.config b/android-5.4/android-base.config
index 59a0606ee210e9f1d8844f2556b31deb4f87d86b..1590d5042220ec677ec9d6c3febcf42fef39c7e2 100644
--- a/android-5.4/android-base.config
+++ b/android-5.4/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -110,23 +109,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -218,21 +214,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y
diff --git a/p/android-4.14/android-base.config b/p/android-4.14/android-base.config
index 47a67b87e0b1e2ca24226b813444ee461064379c..549a655333593ced252b66012781866ffbcec186 100644
--- a/p/android-4.14/android-base.config
+++ b/p/android-4.14/android-base.config
@@ -76,23 +76,20 @@ CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MEMCG=y
 CONFIG_MEMCG_SWAP=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
diff --git a/p/android-4.4/android-base.config b/p/android-4.4/android-base.config
index 9db3248672a19a74698cdf38d5fcaad37704ca5c..b4db5e5e89c0ffcb27d07a569f7dcfb83fbd0438 100644
--- a/p/android-4.4/android-base.config
+++ b/p/android-4.4/android-base.config
@@ -73,23 +73,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
 CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
diff --git a/p/android-4.9/android-base.config b/p/android-4.9/android-base.config
index 4430285f86c9c5edfaf7190f51b31dc00dd7c911..7ea05634f35170cd2b04bdbd7f02fbffb93d56f0 100644
--- a/p/android-4.9/android-base.config
+++ b/p/android-4.9/android-base.config
@@ -74,23 +74,20 @@ CONFIG_IP_NF_MANGLE=y
 CONFIG_IP_NF_MATCH_ECN=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_MAGIC_SYSRQ=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_HELPER=y
diff --git a/q/android-4.14/android-base.config b/q/android-4.14/android-base.config
index cf9b7d5d457a8287db9ed77e32e9c598bf81c71b..bdd4c00ded2efee898d919f109237edd91e6f260 100644
--- a/q/android-4.14/android-base.config
+++ b/q/android-4.14/android-base.config
@@ -89,23 +89,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
@@ -192,21 +189,20 @@ CONFIG_SECCOMP_FILTER=y
 CONFIG_SECURITY=y
 CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STAGING=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UID_SYS_STATS=y
diff --git a/q/android-4.19/android-base.config b/q/android-4.19/android-base.config
index 2f987a9d07db42d855722ad74bb2a9a0052f6438..e658e66691bb79916b62ac9b51158c07109fc0c3 100644
--- a/q/android-4.19/android-base.config
+++ b/q/android-4.19/android-base.config
@@ -86,23 +86,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
@@ -189,21 +186,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UID_SYS_STATS=y
diff --git a/q/android-4.9/android-base.config b/q/android-4.9/android-base.config
index 795cde56ef3321c339b1357a317a63ba5a0f1bdb..013036a920352eeee0b1e019fd7de8d523f5f87b 100644
--- a/q/android-4.9/android-base.config
+++ b/q/android-4.9/android-base.config
@@ -92,23 +92,20 @@ CONFIG_IP_NF_RAW=y
 CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
 CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
diff --git a/r/android-4.14/android-base-conditional.xml b/r/android-4.14/android-base-conditional.xml
index 5b5645286ee3b87804fdaab485debec0d2f5da06..f946f931db6569d6a985c1a2039058877bc549a0 100644
--- a/r/android-4.14/android-base-conditional.xml
+++ b/r/android-4.14/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-4.14/android-base.config b/r/android-4.14/android-base.config
index 542251be2d440b70ba658dd4d994f694ef00ae43..efc98d2c6c0c46fb4c17eb91c5f308c15850da7d 100644
--- a/r/android-4.14/android-base.config
+++ b/r/android-4.14/android-base.config
@@ -18,21 +18,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CC_STACKPROTECTOR_STRONG=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
@@ -108,23 +107,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -215,21 +211,20 @@ CONFIG_SECCOMP_FILTER=y
 CONFIG_SECURITY=y
 CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y
diff --git a/r/android-4.19/android-base-conditional.xml b/r/android-4.19/android-base-conditional.xml
index e5b8635ff3cd45b6a1e17e861e0c1147e8bb91db..bfeb262d97f80197765b1fc9b411f3667fb1456b 100644
--- a/r/android-4.19/android-base-conditional.xml
+++ b/r/android-4.19/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-4.19/android-base.config b/r/android-4.19/android-base.config
index f942b8e12e36a16381306b0ba5a70fb299ca6627..8c62422d0e33d90b934eb15d7fdda6eba1e2d632 100644
--- a/r/android-4.19/android-base.config
+++ b/r/android-4.19/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_ECB=y
@@ -109,23 +108,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -216,21 +212,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y
diff --git a/r/android-5.4/android-base-conditional.xml b/r/android-5.4/android-base-conditional.xml
index 952611ef2d02c27d4d955a3e6eeb27ef9abb1fa8..ccc0246a8a8d41b2724efcb836a418782d76c55c 100644
--- a/r/android-5.4/android-base-conditional.xml
+++ b/r/android-5.4/android-base-conditional.xml
@@ -60,24 +60,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -86,24 +82,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/r/android-5.4/android-base.config b/r/android-5.4/android-base.config
index 08cfbb9693afefe8582b7e29fd9f8501e23ff3cc..3b3726eb8fe4051303c5afd37e9df2761cf34a9f 100644
--- a/r/android-5.4/android-base.config
+++ b/r/android-5.4/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CFI_CLANG=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
@@ -107,23 +106,20 @@ CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_LTO_CLANG=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -215,21 +211,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TTY=y
 CONFIG_TUN=y
 CONFIG_UHID=y
diff --git a/s/android-4.19/android-base-conditional.xml b/s/android-4.19/android-base-conditional.xml
index c7de80cab52c71d5af41008a287a2178d9372b97..9cf933ff0f13d1787c811c24892c3657197083af 100644
--- a/s/android-4.19/android-base-conditional.xml
+++ b/s/android-4.19/android-base-conditional.xml
@@ -56,24 +56,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SETEND_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- x86 base requirements -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_X86</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
@@ -82,24 +78,20 @@
 		<value type="bool">n</value>
 	</config>
 	<config>
 		<key>CONFIG_PAGE_TABLE_ISOLATION</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_RETPOLINE</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/s/android-4.19/android-base.config b/s/android-4.19/android-base.config
index 2ab90dc0c9a0d401d220b3fa5cdd67b52f4a437b..ee23d9cc4ba4e04a682a43d7cf51ca2ddd1a322c 100644
--- a/s/android-4.19/android-base.config
+++ b/s/android-4.19/android-base.config
@@ -21,21 +21,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -115,23 +114,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -222,21 +218,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y
diff --git a/s/android-5.10/android-base-conditional.xml b/s/android-5.10/android-base-conditional.xml
index aae184720bbd812bcb9c937b71ca4364e9e01569..cc971d89c42b31555708ec7cb1c8f58c1d84d9c7 100644
--- a/s/android-5.10/android-base-conditional.xml
+++ b/s/android-5.10/android-base-conditional.xml
@@ -64,24 +64,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PMD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PUD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_KFENCE</key>
@@ -136,24 +132,20 @@
 	<conditions>
 		<config>
 			<key>CONFIG_X86_64</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
 	<!--<config>
 		<key>CONFIG_CFI_CLANG</key>
 		<value type="bool">y</value>
 	</config>-->
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/s/android-5.10/android-base.config b/s/android-5.10/android-base.config
index 59a0606ee210e9f1d8844f2556b31deb4f87d86b..1590d5042220ec677ec9d6c3febcf42fef39c7e2 100644
--- a/s/android-5.10/android-base.config
+++ b/s/android-5.10/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -110,23 +109,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -218,21 +214,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y
diff --git a/s/android-5.4/android-base-conditional.xml b/s/android-5.4/android-base-conditional.xml
index 1e62abdf1cadac13ab7a33341ddc31b74e92796c..46251ade41678b59aa20732e4ed27c4c2dff3626 100644
--- a/s/android-5.4/android-base-conditional.xml
+++ b/s/android-5.4/android-base-conditional.xml
@@ -64,24 +64,20 @@
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SHADOW_CALL_STACK</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_SWP_EMULATION</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PMD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_HAVE_MOVE_PUD</key>
 		<value type="bool">y</value>
 	</config>
 	<config>
 		<key>CONFIG_USERFAULTFD</key>
@@ -128,24 +124,20 @@
 	<conditions>
 		<config>
 			<key>CONFIG_X86_64</key>
 			<value type="bool">y</value>
 		</config>
 	</conditions>
 	<config>
 		<key>CONFIG_CFI_CLANG</key>
 		<value type="bool">y</value>
 	</config>
-	<config>
-		<key>CONFIG_BPF_JIT_ALWAYS_ON</key>
-		<value type="bool">y</value>
-	</config>
 </group>
 
 <!-- CONFIG_ACPI || CONFIG_OF -->
 <group>
 	<conditions>
 		<config>
 			<key>CONFIG_ACPI</key>
 			<value type="bool">n</value>
 		</config>
 	</conditions>
diff --git a/s/android-5.4/android-base.config b/s/android-5.4/android-base.config
index 59a0606ee210e9f1d8844f2556b31deb4f87d86b..1590d5042220ec677ec9d6c3febcf42fef39c7e2 100644
--- a/s/android-5.4/android-base.config
+++ b/s/android-5.4/android-base.config
@@ -20,21 +20,20 @@ CONFIG_ANDROID=y
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
 CONFIG_AUDIT=y
 CONFIG_BINFMT_ELF=y
 CONFIG_BINFMT_SCRIPT=y
 CONFIG_BLK_DEV_INITRD=y
 CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLOCK=y
-CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CHACHA20POLY1305=y
@@ -110,23 +109,20 @@ CONFIG_IP_NF_SECURITY=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
 CONFIG_L2TP=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
 CONFIG_MEMBARRIER=y
 CONFIG_MMU=y
-CONFIG_MODULES=y
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODVERSIONS=y
 CONFIG_MULTIUSER=y
 CONFIG_NAMESPACES=y
 CONFIG_NET=y
 CONFIG_NETDEVICES=y
 CONFIG_NETFILTER=y
 CONFIG_NETFILTER_XT_MATCH_BPF=y
 CONFIG_NETFILTER_XT_MATCH_COMMENT=y
 CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
 CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
@@ -218,21 +214,20 @@ CONFIG_SECURITY_NETWORK=y
 CONFIG_SECURITY_SELINUX=y
 CONFIG_SHMEM=y
 CONFIG_SIGNALFD=y
 CONFIG_SND=y
 CONFIG_SOUND=y
 CONFIG_STACKPROTECTOR=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STAGING=y
 CONFIG_STATIC_USERMODEHELPER=y
 CONFIG_STRICT_KERNEL_RWX=y
-CONFIG_STRICT_MODULE_RWX=y
 CONFIG_SUSPEND=y
 CONFIG_SYNC_FILE=y
 CONFIG_SYSFS=y
 CONFIG_TASKSTATS=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_TASK_XACCT=y
 CONFIG_TIMERFD=y
 CONFIG_TRACE_GPU_MEM=y
 CONFIG_TTY=y
 CONFIG_TUN=y

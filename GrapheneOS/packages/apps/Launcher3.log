commit 5f068db884d90fae3b5a76e08a09a6ca2416082c
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Tue 2016-12-06 22:05:39-0500

    disable hard-wired QuickSearchBox widget
---
 src/com/android/launcher3/config/FeatureFlags.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/launcher3/config/FeatureFlags.java b/src/com/android/launcher3/config/FeatureFlags.java
index 88a9abaf8d49b9bac3f5d19afa88165e1c199201..d4a65f05bbf92abdab5f3402147cdc0306c9f396 100644
--- a/src/com/android/launcher3/config/FeatureFlags.java
+++ b/src/com/android/launcher3/config/FeatureFlags.java
@@ -45,21 +45,21 @@ public final class FeatureFlags {
 
     /**
      * True when the build has come from Android Studio and is being used for local debugging.
      */
     public static final boolean IS_STUDIO_BUILD = BuildConfig.DEBUG;
 
     /**
      * Enable moving the QSB on the 0th screen of the workspace. This is not a configuration feature
      * and should be modified at a project level.
      */
-    public static final boolean QSB_ON_FIRST_SCREEN = true;
+    public static final boolean QSB_ON_FIRST_SCREEN = false;
 
     /**
      * Feature flag to handle define config changes dynamically instead of killing the process.
      *
      *
      * To add a new flag that can be toggled through the flags UI:
      *
      * Declare a new ToggleableFlag below. Give it a unique key (e.g. "QSB_ON_FIRST_SCREEN"),
      *    and set a default value for the flag. This will be the default value on Debug builds.
      */

commit cafdec60e626a94bf70cbdcb729c0e25969c0371
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Thu 2019-11-14 07:32:46-0500

    rebranding
---
 quickstep/res/values/strings.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/quickstep/res/values/strings.xml b/quickstep/res/values/strings.xml
index 769d29838ae4e9f9944cbce48d97e9ad12d18097..263163622464d56f4cced80247b368c41cef2420 100644
--- a/quickstep/res/values/strings.xml
+++ b/quickstep/res/values/strings.xml
@@ -12,21 +12,21 @@
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
 -->
 <resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
 
     <!-- Application name -->
-    <string name="derived_app_name" translatable="false">Quickstep</string>
+    <string name="derived_app_name" translatable="false">GrapheneOS Launcher</string>
 
     <!-- Options for recent tasks -->
     <!-- Title for an option to enter split screen mode for a given app -->
     <string name="recent_task_option_split_screen">Split screen</string>
     <!-- Title for an option to keep an app pinned to the screen until it is unpinned -->
     <string name="recent_task_option_pin">Pin</string>
     <!-- Title for an option to enter freeform mode for a given app -->
     <string name="recent_task_option_freeform">Freeform</string>
 
     <!-- Recents: The empty recents string. [CHAR LIMIT=NONE] -->

commit 693d0ca48468af5c7b1572a070136ce7570c368f
Author: Luca Stefani <luca.stefani.ge1@gmail.com>
Date:   Fri 2019-11-01 23:21:37+0100

    Specify the wallpaper picker package
    
    Change-Id: Ib94bac4546a328462ec83a7d2e1ffca56ef7343a
---
 res/values/config.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/res/values/config.xml b/res/values/config.xml
index 75fcc907db54f3ef5e1ae413fa350d9321fea5a8..368bf0ef62a4cb316b65d46bdc15d60455f1fd85 100644
--- a/res/values/config.xml
+++ b/res/values/config.xml
@@ -82,21 +82,21 @@
 
     <!-- Menu id for feature flags -->
     <item type="id" name="menu_apply_flags" />
 
     <!-- Popup items -->
     <integer name="config_popupOpenCloseDuration">150</integer>
     <integer name="config_popupArrowOpenCloseDuration">40</integer>
     <integer name="config_removeNotificationViewDuration">300</integer>
 
     <!-- Default packages -->
-    <string name="wallpaper_picker_package" translatable="false"></string>
+    <string name="wallpaper_picker_package" translatable="false">com.android.wallpaper</string>
     <string name="calendar_component_name" translatable="false"></string>
     <string name="clock_component_name" translatable="false"></string>
 
     <!-- Accessibility actions -->
     <item type="id" name="action_remove" />
     <item type="id" name="action_uninstall" />
     <item type="id" name="action_reconfigure" />
     <item type="id" name="action_add_to_workspace" />
     <item type="id" name="action_move" />
     <item type="id" name="action_move_to_workspace" />

commit 53ea8a3af6627d238eaabbee8d35bf4f3cb7830d
Author: Luca Stefani <luca.stefani.ge1@gmail.com>
Date:   Fri 2019-11-01 23:17:59+0100

    Properly expose GridOptionsProvider
    
    Change-Id: I8268a215257ae0e399c56ac8b44cdfdff8cc92a0
---
 AndroidManifest-common.xml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/AndroidManifest-common.xml b/AndroidManifest-common.xml
index 77f2428177acf03eaa0d7ef20b13ff50a5523cf6..54eeb86e78989659a9047c7da30827a75476f99c 100644
--- a/AndroidManifest-common.xml
+++ b/AndroidManifest-common.xml
@@ -149,21 +149,23 @@
             android:writePermission="${packageName}.permission.WRITE_SETTINGS"
             android:readPermission="${packageName}.permission.READ_SETTINGS" />
 
         <!--
         The content provider for exposing various launcher grid options.
         TODO: Add proper permissions
         -->
         <provider
             android:name="com.android.launcher3.graphics.GridCustomizationsProvider"
             android:authorities="${packageName}.grid_control"
-            android:exported="true" />
+            android:exported="true"
+            android:writePermission="${packageName}.permission.WRITE_SETTINGS"
+            android:readPermission="${packageName}.permission.READ_SETTINGS" />
 
         <!--
         The settings activity. To extend point settings_fragment_name to appropriate fragment class
         -->
         <activity
             android:name="com.android.launcher3.settings.SettingsActivity"
             android:label="@string/settings_button_text"
             android:theme="@style/HomeSettingsTheme"
             android:autoRemoveFromRecents="true">
             <intent-filter>

commit b0af69bdddc039da5a7ca80a13a98d42ff903c9b (HEAD, tag: RQ3A.210805.001.A1.2021.08.03.03, tag: RQ3A.210705.001.2021.07.07.19, tag: RQ3A.210605.005.2021.06.08.06, m/master)
Author: Luca Stefani <luca.stefani.ge1@gmail.com>
Date:   Fri 2019-11-01 23:36:04+0100

    Specify the component name to start the picker
    
    Change-Id: I13d4d088357bee438ac78b632f08cffbac34ad3f
---
 src/com/android/launcher3/views/OptionsPopupView.java | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src/com/android/launcher3/views/OptionsPopupView.java b/src/com/android/launcher3/views/OptionsPopupView.java
index d558781be8df0afe3917211494077b215d022963..0cd1de6d598f4ec874ce0ef7cef2a58ff7310c6e 100644
--- a/src/com/android/launcher3/views/OptionsPopupView.java
+++ b/src/com/android/launcher3/views/OptionsPopupView.java
@@ -14,20 +14,21 @@
  * limitations under the License.
  */
 package com.android.launcher3.views;
 
 import static com.android.launcher3.Utilities.EXTRA_WALLPAPER_FLAVOR;
 import static com.android.launcher3.Utilities.EXTRA_WALLPAPER_OFFSET;
 import static com.android.launcher3.logging.StatsLogManager.LauncherEvent.IGNORE;
 import static com.android.launcher3.logging.StatsLogManager.LauncherEvent.LAUNCHER_SETTINGS_BUTTON_TAP_OR_LONGPRESS;
 import static com.android.launcher3.logging.StatsLogManager.LauncherEvent.LAUNCHER_WIDGETSTRAY_BUTTON_TAP_OR_LONGPRESS;
 
+import android.content.ComponentName;
 import android.content.Context;
 import android.content.Intent;
 import android.graphics.Rect;
 import android.graphics.RectF;
 import android.text.TextUtils;
 import android.util.ArrayMap;
 import android.util.AttributeSet;
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.View.OnClickListener;
@@ -208,20 +209,23 @@ public class OptionsPopupView extends ArrowPopup
             return false;
         }
         Intent intent = new Intent(Intent.ACTION_SET_WALLPAPER)
                 .addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK)
                 .putExtra(EXTRA_WALLPAPER_OFFSET,
                         launcher.getWorkspace().getWallpaperOffsetForCenterPage());
         if (!Utilities.existsStyleWallpapers(launcher)) {
             intent.putExtra(EXTRA_WALLPAPER_FLAVOR, "wallpaper_only");
         } else {
             intent.putExtra(EXTRA_WALLPAPER_FLAVOR, "focus_wallpaper");
+            intent.setComponent(new ComponentName(
+                    launcher.getString(R.string.wallpaper_picker_package),
+                    "com.android.customization.picker.CustomizationPickerActivity"));
         }
         String pickerPackage = launcher.getString(R.string.wallpaper_picker_package);
         if (!TextUtils.isEmpty(pickerPackage)) {
             intent.setPackage(pickerPackage);
         }
         return launcher.startActivitySafely(v, intent, dummyInfo(intent), null);
     }
 
     static WorkspaceItemInfo dummyInfo(Intent intent) {
         WorkspaceItemInfo dummyInfo = new WorkspaceItemInfo();

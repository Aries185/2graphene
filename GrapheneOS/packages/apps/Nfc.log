commit 9d96296e05fa5527d1a18c105c84ec6841b0237a
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Sat 2015-06-06 10:40:51-0400

    disable NFC by default
---
 src/com/android/nfc/NfcService.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/nfc/NfcService.java b/src/com/android/nfc/NfcService.java
index 633b8f46473a7206dfce1928b85c3f8295b1301b..d21ef7fdb2c7dcee3cb35ce2409c4ca8ec883566 100644
--- a/src/com/android/nfc/NfcService.java
+++ b/src/com/android/nfc/NfcService.java
@@ -122,21 +122,21 @@ public class NfcService implements DeviceHostListener {
     static final boolean DBG = false;
     static final String TAG = "NfcService";
 
     public static final String SERVICE_NAME = "nfc";
 
     private static final String SYSTEM_UI = "com.android.systemui";
 
     public static final String PREF = "NfcServicePrefs";
 
     static final String PREF_NFC_ON = "nfc_on";
-    static final boolean NFC_ON_DEFAULT = true;
+    static final boolean NFC_ON_DEFAULT = false;
     static final String PREF_NDEF_PUSH_ON = "ndef_push_on";
     static final boolean NDEF_PUSH_ON_DEFAULT = false;
     static final String PREF_SECURE_NFC_ON = "secure_nfc_on";
     static final boolean SECURE_NFC_ON_DEFAULT = false;
     static final String PREF_FIRST_BEAM = "first_beam";
     static final String PREF_FIRST_BOOT = "first_boot";
 
     static final String PREF_ANTENNA_BLOCKED_MESSAGE_SHOWN = "antenna_blocked_message_shown";
     static final boolean ANTENNA_BLOCKED_MESSAGE_SHOWN_DEFAULT = false;
 

commit 847229e9db8a62a650bc7fb981756c10b06c3d68 (HEAD, tag: SP1A.211105.002.2021110617, m/master, grapheneos/12)
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Sun 2019-03-17 20:58:37-0400

    constify JNINativeMethod tables
---
 nci/jni/NativeLlcpConnectionlessSocket.cpp | 2 +-
 nci/jni/NativeLlcpServiceSocket.cpp        | 2 +-
 nci/jni/NativeLlcpSocket.cpp               | 2 +-
 nci/jni/NativeNfcManager.cpp               | 2 +-
 nci/jni/NativeNfcTag.cpp                   | 2 +-
 nci/jni/NativeP2pDevice.cpp                | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/nci/jni/NativeLlcpConnectionlessSocket.cpp b/nci/jni/NativeLlcpConnectionlessSocket.cpp
index 7506d80e85cb6f75663bda2bc7a7915caff367d9..e1e547ecd74fe3aa396565c58abe414f64079641 100644
--- a/nci/jni/NativeLlcpConnectionlessSocket.cpp
+++ b/nci/jni/NativeLlcpConnectionlessSocket.cpp
@@ -273,21 +273,21 @@ static jboolean nativeLlcpConnectionlessSocket_doClose(JNIEnv* e, jobject o) {
     return JNI_FALSE;
   }
   return JNI_TRUE;
 }
 
 /*****************************************************************************
 **
 ** Description:     JNI functions
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doSendTo", "(I[B)Z", (void*)nativeLlcpConnectionlessSocket_doSendTo},
     {"doReceiveFrom", "(I)Lcom/android/nfc/LlcpPacket;",
      (void*)nativeLlcpConnectionlessSocket_doReceiveFrom},
     {"doClose", "()Z", (void*)nativeLlcpConnectionlessSocket_doClose},
 };
 
 /*******************************************************************************
 **
 ** Function:        register_com_android_nfc_NativeLlcpConnectionlessSocket
 **
diff --git a/nci/jni/NativeLlcpServiceSocket.cpp b/nci/jni/NativeLlcpServiceSocket.cpp
index 76ffeea599d5b6c18a8d8b086db46d6d08428d77..4d2297c426a0d11ee06c344e248f72b829e9b6a4 100644
--- a/nci/jni/NativeLlcpServiceSocket.cpp
+++ b/nci/jni/NativeLlcpServiceSocket.cpp
@@ -121,21 +121,21 @@ static jboolean nativeLlcpServiceSocket_doClose(JNIEnv* e, jobject o) {
 
   DLOG_IF(INFO, nfc_debug_enabled) << StringPrintf("%s: exit", __func__);
   return JNI_TRUE;
 }
 
 /*****************************************************************************
 **
 ** Description:     JNI functions
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doAccept", "(III)Lcom/android/nfc/dhimpl/NativeLlcpSocket;",
      (void*)nativeLlcpServiceSocket_doAccept},
     {"doClose", "()Z", (void*)nativeLlcpServiceSocket_doClose},
 };
 
 /*******************************************************************************
 **
 ** Function:        register_com_android_nfc_NativeLlcpServiceSocket
 **
 ** Description:     Regisgter JNI functions with Java Virtual Machine.
diff --git a/nci/jni/NativeLlcpSocket.cpp b/nci/jni/NativeLlcpSocket.cpp
index 0ee0d2488da1c09ea621a154a340159f6bdd76be..fa49ec9488afa8aa077296c32905527e3b6a7e51 100644
--- a/nci/jni/NativeLlcpSocket.cpp
+++ b/nci/jni/NativeLlcpSocket.cpp
@@ -207,21 +207,21 @@ static jint nativeLlcpSocket_doGetRemoteSocketRW(JNIEnv* e, jobject o) {
 
   DLOG_IF(INFO, nfc_debug_enabled) << StringPrintf("%s: exit", __func__);
   return rw;
 }
 
 /*****************************************************************************
 **
 ** Description:     JNI functions
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doConnect", "(I)Z", (void*)nativeLlcpSocket_doConnect},
     {"doConnectBy", "(Ljava/lang/String;)Z",
      (void*)nativeLlcpSocket_doConnectBy},
     {"doClose", "()Z", (void*)nativeLlcpSocket_doClose},
     {"doSend", "([B)Z", (void*)nativeLlcpSocket_doSend},
     {"doReceive", "([B)I", (void*)nativeLlcpSocket_doReceive},
     {"doGetRemoteSocketMiu", "()I",
      (void*)nativeLlcpSocket_doGetRemoteSocketMIU},
     {"doGetRemoteSocketRw", "()I", (void*)nativeLlcpSocket_doGetRemoteSocketRW},
 };
diff --git a/nci/jni/NativeNfcManager.cpp b/nci/jni/NativeNfcManager.cpp
index 28ae464afed6b395138cef6debd00bbb72ef637c..6804497b80a8ab2dd873f0a10092e5e92b0c39cb 100644
--- a/nci/jni/NativeNfcManager.cpp
+++ b/nci/jni/NativeNfcManager.cpp
@@ -2142,21 +2142,21 @@ static void nfcManager_doSetNfceePowerAndLinkCtrl(JNIEnv* e, jobject o,
   } else {
     routingManager.eeSetPwrAndLinkCtrl(0);
   }
 }
 
 /*****************************************************************************
 **
 ** JNI functions for android-4.0.1_r1
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doDownload", "()Z", (void*)nfcManager_doDownload},
 
     {"initializeNativeStructure", "()Z", (void*)nfcManager_initNativeStruc},
 
     {"doInitialize", "()Z", (void*)nfcManager_doInitialize},
 
     {"doDeinitialize", "()Z", (void*)nfcManager_doDeinitialize},
 
     {"sendRawFrame", "([B)Z", (void*)nfcManager_sendRawFrame},
 
diff --git a/nci/jni/NativeNfcTag.cpp b/nci/jni/NativeNfcTag.cpp
index cc167e67288098a47affc9775286998b0a3f8a32..a53c14257091496c45306fc84179dce986e64ce4 100644
--- a/nci/jni/NativeNfcTag.cpp
+++ b/nci/jni/NativeNfcTag.cpp
@@ -1846,21 +1846,21 @@ void nativeNfcTag_releaseRfInterfaceMutexLock() {
   sRfInterfaceMutex.unlock();
   DLOG_IF(INFO, nfc_debug_enabled)
       << StringPrintf("%s: sRfInterfaceMutex unlock", __func__);
 }
 
 /*****************************************************************************
 **
 ** JNI functions for Android 4.0.3
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doConnect", "(I)I", (void*)nativeNfcTag_doConnect},
     {"doDisconnect", "()Z", (void*)nativeNfcTag_doDisconnect},
     {"doReconnect", "()I", (void*)nativeNfcTag_doReconnect},
     {"doHandleReconnect", "(I)I", (void*)nativeNfcTag_doHandleReconnect},
     {"doTransceive", "([BZ[I)[B", (void*)nativeNfcTag_doTransceive},
     {"doGetNdefType", "(II)I", (void*)nativeNfcTag_doGetNdefType},
     {"doCheckNdef", "([I)I", (void*)nativeNfcTag_doCheckNdef},
     {"doRead", "()[B", (void*)nativeNfcTag_doRead},
     {"doWrite", "([B)Z", (void*)nativeNfcTag_doWrite},
     {"doPresenceCheck", "()Z", (void*)nativeNfcTag_doPresenceCheck},
diff --git a/nci/jni/NativeP2pDevice.cpp b/nci/jni/NativeP2pDevice.cpp
index 23f5db4132caf3c0af55e7fd1947a97ec95c49db..396c6d0cdb1924106b727dbc378f92a232eb7c81 100644
--- a/nci/jni/NativeP2pDevice.cpp
+++ b/nci/jni/NativeP2pDevice.cpp
@@ -51,21 +51,21 @@ static jbyteArray nativeP2pDeviceDoReceive(JNIEnv*, jobject) {
 static jboolean nativeP2pDeviceDoSend(JNIEnv*, jobject, jbyteArray) {
   DLOG_IF(INFO, nfc_debug_enabled) << StringPrintf("%s", __func__);
   return JNI_TRUE;
 }
 
 /*****************************************************************************
 **
 ** Description:     JNI functions
 **
 *****************************************************************************/
-static JNINativeMethod gMethods[] = {
+static const JNINativeMethod gMethods[] = {
     {"doConnect", "()Z", (void*)nativeP2pDeviceDoConnect},
     {"doDisconnect", "()Z", (void*)nativeP2pDeviceDoDisconnect},
     {"doTransceive", "([B)[B", (void*)nativeP2pDeviceDoTransceive},
     {"doReceive", "()[B", (void*)nativeP2pDeviceDoReceive},
     {"doSend", "([B)Z", (void*)nativeP2pDeviceDoSend},
 };
 
 /*******************************************************************************
 **
 ** Function:        register_com_android_nfc_NativeP2pDevice

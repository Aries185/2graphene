commit 4ba3e0efdfb855a340cdd4bce5b2878afde5af28 (HEAD, tag: SQ1A.220105.002.2022010500, m/master, grapheneos/12)
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Sat 2017-10-07 16:28:57-0400

    require OTHER_SENSORS permission for sensors
    
    Ported from 10: ff005a6b6a38baef95c4a01d7e1fc75aac651a58
---
 libs/sensor/Sensor.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/libs/sensor/Sensor.cpp b/libs/sensor/Sensor.cpp
index 0a49008584a4dfa0f2574e6294f563f1f9b2016b..94bac9177cee5343fb763469f79e5c7c93c5c94e 100644
--- a/libs/sensor/Sensor.cpp
+++ b/libs/sensor/Sensor.cpp
@@ -52,20 +52,21 @@ Sensor::Sensor(struct sensor_t const& hwSensor, const uuid_t& uuid, int halVersi
     mVersion = hwSensor.version;
     mHandle = hwSensor.handle;
     mType = hwSensor.type;
     mMinValue = 0;                      // FIXME: minValue
     mMaxValue = hwSensor.maxRange;      // FIXME: maxValue
     mResolution = hwSensor.resolution;
     mPower = hwSensor.power;
     mMinDelay = hwSensor.minDelay;
     mFlags = 0;
     mUuid = uuid;
+    mRequiredPermission = "android.permission.OTHER_SENSORS";
 
     // Set fifo event count zero for older devices which do not support batching. Fused
     // sensors also have their fifo counts set to zero.
     if (halVersion > SENSORS_DEVICE_API_VERSION_1_0) {
         mFifoReservedEventCount = hwSensor.fifoReservedEventCount;
         mFifoMaxEventCount = hwSensor.fifoMaxEventCount;
     } else {
         mFifoReservedEventCount = 0;
         mFifoMaxEventCount = 0;
     }

commit a717a041b24c8d0df694b2b74798d21069bf6b0d
Author: anupritaisno1 <www.anuprita804@gmail.com>
Date:   Thu 2021-02-11 05:33:06+0530

    Set sane value for PRODUCT_MODEL
    
    Signed-off-by: anupritaisno1 <www.anuprita804@gmail.com>
---
 aosp_bramble.mk | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/aosp_bramble.mk b/aosp_bramble.mk
index 11d4684e6bc4a140d3dfc84311768bc98ac1a857..2a95c5bac70325a8697f5cbd36aa565f0fdd2c9b 100644
--- a/aosp_bramble.mk
+++ b/aosp_bramble.mk
@@ -65,11 +65,11 @@ PRODUCT_BUILD_SUPER_PARTITION := false
 # b/113232673 STOPSHIP deal with Qualcomm stuff later
 # PRODUCT_RESTRICT_VENDOR_FILES := all
 
 # b/189477034: Bypass build time check on uses_libs until vendor fixes all their apps
 PRODUCT_BROKEN_VERIFY_USES_LIBRARIES := true
 
 PRODUCT_MANUFACTURER := Google
 PRODUCT_BRAND := Android
 PRODUCT_NAME := aosp_bramble
 PRODUCT_DEVICE := bramble
-PRODUCT_MODEL := AOSP on bramble
+PRODUCT_MODEL := Pixel 4a (5G)

commit 099acfebfb52efb4dc5d3564070b091ea301a555
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Thu 2021-07-15 23:54:30-0400

    set PRODUCT_BRAND to hardware brand
---
 aosp_bramble.mk | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/aosp_bramble.mk b/aosp_bramble.mk
index 2a95c5bac70325a8697f5cbd36aa565f0fdd2c9b..c0661c30613d3ee2c0c488a818394c584b6f6d5e 100644
--- a/aosp_bramble.mk
+++ b/aosp_bramble.mk
@@ -62,14 +62,14 @@ endif
 # Don't build super.img.
 PRODUCT_BUILD_SUPER_PARTITION := false
 
 # b/113232673 STOPSHIP deal with Qualcomm stuff later
 # PRODUCT_RESTRICT_VENDOR_FILES := all
 
 # b/189477034: Bypass build time check on uses_libs until vendor fixes all their apps
 PRODUCT_BROKEN_VERIFY_USES_LIBRARIES := true
 
 PRODUCT_MANUFACTURER := Google
-PRODUCT_BRAND := Android
+PRODUCT_BRAND := google
 PRODUCT_NAME := aosp_bramble
 PRODUCT_DEVICE := bramble
 PRODUCT_MODEL := Pixel 4a (5G)

commit 470c303d96716299ae49119ecadde08f11abfe24
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Thu 2021-07-15 23:55:09-0400

    remove aosp_ prefix from product name
---
 AndroidProducts.mk | 4 ++--
 bramble.mk (new)   | 5 +++++
 2 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/AndroidProducts.mk b/AndroidProducts.mk
index 44813d7c5161ec451cb0f901e57b33e61267f1bf..08b39105b3193f1151017668c9c9207078ebd145 100644
--- a/AndroidProducts.mk
+++ b/AndroidProducts.mk
@@ -8,16 +8,16 @@
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 PRODUCT_MAKEFILES := \
-    $(LOCAL_DIR)/aosp_bramble.mk \
+    $(LOCAL_DIR)/bramble.mk \
     $(LOCAL_DIR)/aosp_bramble_64.mk \
     $(LOCAL_DIR)/aosp_bramble_hwasan.mk \
 
 COMMON_LUNCH_CHOICES := \
-    aosp_bramble-userdebug \
+    bramble-userdebug \
diff --git a/bramble.mk b/bramble.mk
new file mode 100644
index 0000000000000000000000000000000000000000..6ea6cb636f50335528ea8c4b24b16acb1f137cd8
--- /dev/null
+++ b/bramble.mk
@@ -0,0 +1,5 @@
+# Inherit AOSP product configuration
+$(call inherit-product, device/google/bramble/aosp_bramble.mk)
+
+# Remove AOSP prefix from product name
+PRODUCT_NAME := bramble

commit d4f3aa05080dc04c6c633584c3cac98b63e72341
Author: anupritaisno1 <www.anuprita804@gmail.com>
Date:   Thu 2021-02-11 09:24:39+0530

    specify TARGET_PREBUILT_KERNEL
    
    Signed-off-by: anupritaisno1 <www.anuprita804@gmail.com>
---
 device-bramble.mk | 1 +
 1 file changed, 1 insertion(+)

diff --git a/device-bramble.mk b/device-bramble.mk
index 0dce4eecf19eea0ac3bfd0331bfdde6f951c933f..7e936c71f25a66b793a5c8caee895f9c019c9792 100644
--- a/device-bramble.mk
+++ b/device-bramble.mk
@@ -9,20 +9,21 @@
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 PRODUCT_HARDWARE := bramble
 
+TARGET_PREBUILT_KERNEL := device/google/bramble-kernel/Image.lz4
 ifeq ($(TARGET_PREBUILT_KERNEL),)
     ifneq (,$(filter userdebug eng, $(TARGET_BUILD_VARIANT)))
         LOCAL_KERNEL := device/google/redbull-kernel/Image.lz4
     else
         LOCAL_KERNEL := device/google/redbull-kernel/vintf/Image.lz4
     endif
 else
     LOCAL_KERNEL := $(TARGET_PREBUILT_KERNEL)
 endif
 

commit cddf5b5b360071671d33a74916a229cd33182211
Author: anupritaisno1 <www.anuprita804@gmail.com>
Date:   Thu 2021-02-11 09:25:27+0530

    move to monolithic kernel builds
    
    Signed-off-by: anupritaisno1 <www.anuprita804@gmail.com>
---
 init.insmod.bramble.cfg | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/init.insmod.bramble.cfg b/init.insmod.bramble.cfg
index f2728df28091a374ff6bfa6e4e50f3695420e722..2d0aabd674c2b8ccd2b3f754a5cf16a22f5a4815 100644
--- a/init.insmod.bramble.cfg
+++ b/init.insmod.bramble.cfg
@@ -1,19 +1,14 @@
 #############################################
 #           init.insmod.cfg                 #
 # This file contains kernel modules to load #
 # at init time by init.insmod.sh script     #
 #############################################
-
-# Load kernel modules
-modprobe|-b *
-modprobe|ftm5.ko
-
 # All modules loaded
 setprop|vendor.all.modules.ready
 
 # Boot devices
 enable|/sys/kernel/boot_adsp/boot
 enable|/sys/kernel/boot_cdsp/boot
 
 # All devices enabled
 setprop|vendor.all.devices.ready

commit 8462dd125b5deb46742a89dade776fc7dc9ad9c2
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Tue 2021-03-02 05:57:21-0500

    use device specific kernel headers
---
 device-bramble.mk | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/device-bramble.mk b/device-bramble.mk
index 7e936c71f25a66b793a5c8caee895f9c019c9792..e830d0dddcfd28af47ee01d50ec310f073f43bc1 100644
--- a/device-bramble.mk
+++ b/device-bramble.mk
@@ -20,21 +20,21 @@ TARGET_PREBUILT_KERNEL := device/google/bramble-kernel/Image.lz4
 ifeq ($(TARGET_PREBUILT_KERNEL),)
     ifneq (,$(filter userdebug eng, $(TARGET_BUILD_VARIANT)))
         LOCAL_KERNEL := device/google/redbull-kernel/Image.lz4
     else
         LOCAL_KERNEL := device/google/redbull-kernel/vintf/Image.lz4
     endif
 else
     LOCAL_KERNEL := $(TARGET_PREBUILT_KERNEL)
 endif
 
-PRODUCT_VENDOR_KERNEL_HEADERS := device/google/redbull-kernel/sm7250/kernel-headers
+PRODUCT_VENDOR_KERNEL_HEADERS := device/google/bramble-kernel/sm7250/kernel-headers
 
 include build/make/target/product/iorap_large_memory_config.mk
 include device/google/redbull/device-common.mk
 
 $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
 
 # LOCAL_PATH is device/google/redbull before this
 LOCAL_PATH := device/google/bramble
 
 PRODUCT_SOONG_NAMESPACES += \

commit f2e38262212e81e5827570ec40f647d96a2a7b76
Author: Philip Rinn <rinni@inventati.org>
Date:   Sun 2021-06-20 14:30:00+0200

    Add the set of PIXEL_*_EXPERIENCE features for bramble
---
 device-bramble.mk           |  4 ++++
 google_experience.xml (new) | 12 ++++++++++++
 2 files changed, 16 insertions(+)

diff --git a/device-bramble.mk b/device-bramble.mk
index e830d0dddcfd28af47ee01d50ec310f073f43bc1..c4089140c274df6a5fdab74cbaa66e600c222bce 100644
--- a/device-bramble.mk
+++ b/device-bramble.mk
@@ -199,10 +199,14 @@ PRODUCT_PRODUCT_PROPERTIES += ro.com.google.ime.kb_pad_port_b=10
 PRODUCT_PRODUCT_PROPERTIES += \
     ro.support_hide_display_cutout=true
 
 PRODUCT_PACKAGES += \
     NoCutoutOverlay \
     AvoidAppsInCutoutOverlay
 
 # (b/183612348): Enable skia reduceOpsTaskSplitting
 PRODUCT_PROPERTY_OVERRIDES += \
     renderthread.skia.reduceopstasksplitting=true
+
+# Set of *_EXPERIENCE features for bramble
+PRODUCT_COPY_FILES += \
+    $(LOCAL_PATH)/google_experience.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/sysconfig/google_experience.xml
diff --git a/google_experience.xml b/google_experience.xml
new file mode 100644
index 0000000000000000000000000000000000000000..5d0182c7f8816207afc386c031c52b126e46d4f2
--- /dev/null
+++ b/google_experience.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<config>
+    <feature name="com.google.android.feature.GOOGLE_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2017_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2018_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2019_MIDYEAR_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2019_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2020_MIDYEAR_EXPERIENCE" />
+    <feature name="com.google.android.feature.PIXEL_2020_EXPERIENCE" />
+</config>

commit 11bc4b5f358fb317fb662280bbe25aecf999a2bb
Author: flawedworld <flawedworld@flawed.world>
Date:   Sun 2021-10-10 01:00:50+0100

    Add vendor soong namespace
---
 aosp_bramble.mk | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/aosp_bramble.mk b/aosp_bramble.mk
index c0661c30613d3ee2c0c488a818394c584b6f6d5e..7ef7e0f1da911d2d1817c1515cb09601492bf02c 100644
--- a/aosp_bramble.mk
+++ b/aosp_bramble.mk
@@ -7,20 +7,22 @@
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
+PRODUCT_SOONG_NAMESPACES += vendor/google_devices/bramble
+
 #
 # All components inherited here go to system image
 #
 ifeq (,$(filter %_64,$(TARGET_PRODUCT)))
 $(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit.mk)
 else
 $(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit_only.mk)
 endif
 $(call inherit-product, $(SRC_TARGET_DIR)/product/generic_system.mk)
 

commit 53fe4c0bbd8775a025daea95b952543920bd2e00 (HEAD, tag: SQ1A.220205.002.2022020800, tag: SQ1A.220105.002.2022010500, m/master, grapheneos/12)
Author: Daniel Micay <danielmicay@gmail.com>
Date:   Tue 2021-10-26 09:16:18-0400

    [temporary] disable broken AvoidAppsInCutoutOverlay
---
 device-bramble.mk | 1 -
 1 file changed, 1 deletion(-)

diff --git a/device-bramble.mk b/device-bramble.mk
index c4089140c274df6a5fdab74cbaa66e600c222bce..2e515953ce1813e17165ab96b17f96a121cc4486 100644
--- a/device-bramble.mk
+++ b/device-bramble.mk
@@ -194,19 +194,18 @@ PRODUCT_PACKAGES += \
 
 # Keyboard bottom padding in dp for portrait mode
 PRODUCT_PRODUCT_PROPERTIES += ro.com.google.ime.kb_pad_port_b=10
 
 # Set support hide display cutout feature
 PRODUCT_PRODUCT_PROPERTIES += \
     ro.support_hide_display_cutout=true
 
 PRODUCT_PACKAGES += \
     NoCutoutOverlay \
-    AvoidAppsInCutoutOverlay
 
 # (b/183612348): Enable skia reduceOpsTaskSplitting
 PRODUCT_PROPERTY_OVERRIDES += \
     renderthread.skia.reduceopstasksplitting=true
 
 # Set of *_EXPERIENCE features for bramble
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/google_experience.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/sysconfig/google_experience.xml
